!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e(r.login={},r.jQuery)}(this,function(r,t){"use strict";function e(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function n(r,e){return r(e={exports:{}},e.exports),e.exports}t=t&&t.hasOwnProperty("default")?t.default:t;var o=n(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var s=function(r,e){return r<<e|r>>>32-e},d=function(r,e){var t=2147483648&r,n=2147483648&e,o=1073741824&r,a=1073741824&e,i=(1073741823&r)+(1073741823&e);return o&a?2147483648^i^t^n:o|a?1073741824&i?3221225472^i^t^n:1073741824^i^t^n:i^t^n},f=function(r,e,t,n,o,a,i){var u;return r=d(r,d(d((u=e)&t|~u&n,o),i)),d(s(r,a),e)},p=function(r,e,t,n,o,a,i){var u;return r=d(r,d(d(e&(u=n)|t&~u,o),i)),d(s(r,a),e)},m=function(r,e,t,n,o,a,i){return r=d(r,d(d(e^t^n,o),i)),d(s(r,a),e)},g=function(r,e,t,n,o,a,i){return r=d(r,d(d(t^(e|~n),o),i)),d(s(r,a),e)},_=function(r){var e,t="",n="";for(e=0;e<=3;e++)t+=(n="0"+(r>>>8*e&255).toString(16)).substr(n.length-2,2);return t};e.md5=function(r){var e,t,n,o,a,i,u,s,c,l=function(r){for(var e,t=r.length,n=t+8,o=16*((n-n%64)/64+1),a=Array(o-1),i=0,u=0;u<t;)i=u%4*8,a[e=(u-u%4)/4]=a[e]|r.charCodeAt(u)<<i,u++;return i=u%4*8,a[e=(u-u%4)/4]=a[e]|128<<i,a[o-2]=t<<3,a[o-1]=t>>>29,a}(r=function(r){r=r.replace(/\x0d\x0a/g,"\n");for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t);n<128?e+=String.fromCharCode(n):(127<n&&n<2048?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(r));for(i=1732584193,u=4023233417,s=2562383102,c=271733878,e=0;e<l.length;e+=16)i=f(t=i,n=u,o=s,a=c,l[e+0],7,3614090360),c=f(c,i,u,s,l[e+1],12,3905402710),s=f(s,c,i,u,l[e+2],17,606105819),u=f(u,s,c,i,l[e+3],22,3250441966),i=f(i,u,s,c,l[e+4],7,4118548399),c=f(c,i,u,s,l[e+5],12,1200080426),s=f(s,c,i,u,l[e+6],17,2821735955),u=f(u,s,c,i,l[e+7],22,4249261313),i=f(i,u,s,c,l[e+8],7,1770035416),c=f(c,i,u,s,l[e+9],12,2336552879),s=f(s,c,i,u,l[e+10],17,4294925233),u=f(u,s,c,i,l[e+11],22,2304563134),i=f(i,u,s,c,l[e+12],7,1804603682),c=f(c,i,u,s,l[e+13],12,4254626195),s=f(s,c,i,u,l[e+14],17,2792965006),u=f(u,s,c,i,l[e+15],22,1236535329),i=p(i,u,s,c,l[e+1],5,4129170786),c=p(c,i,u,s,l[e+6],9,3225465664),s=p(s,c,i,u,l[e+11],14,643717713),u=p(u,s,c,i,l[e+0],20,3921069994),i=p(i,u,s,c,l[e+5],5,3593408605),c=p(c,i,u,s,l[e+10],9,38016083),s=p(s,c,i,u,l[e+15],14,3634488961),u=p(u,s,c,i,l[e+4],20,3889429448),i=p(i,u,s,c,l[e+9],5,568446438),c=p(c,i,u,s,l[e+14],9,3275163606),s=p(s,c,i,u,l[e+3],14,4107603335),u=p(u,s,c,i,l[e+8],20,1163531501),i=p(i,u,s,c,l[e+13],5,2850285829),c=p(c,i,u,s,l[e+2],9,4243563512),s=p(s,c,i,u,l[e+7],14,1735328473),u=p(u,s,c,i,l[e+12],20,2368359562),i=m(i,u,s,c,l[e+5],4,4294588738),c=m(c,i,u,s,l[e+8],11,2272392833),s=m(s,c,i,u,l[e+11],16,1839030562),u=m(u,s,c,i,l[e+14],23,4259657740),i=m(i,u,s,c,l[e+1],4,2763975236),c=m(c,i,u,s,l[e+4],11,1272893353),s=m(s,c,i,u,l[e+7],16,4139469664),u=m(u,s,c,i,l[e+10],23,3200236656),i=m(i,u,s,c,l[e+13],4,681279174),c=m(c,i,u,s,l[e+0],11,3936430074),s=m(s,c,i,u,l[e+3],16,3572445317),u=m(u,s,c,i,l[e+6],23,76029189),i=m(i,u,s,c,l[e+9],4,3654602809),c=m(c,i,u,s,l[e+12],11,3873151461),s=m(s,c,i,u,l[e+15],16,530742520),u=m(u,s,c,i,l[e+2],23,3299628645),i=g(i,u,s,c,l[e+0],6,4096336452),c=g(c,i,u,s,l[e+7],10,1126891415),s=g(s,c,i,u,l[e+14],15,2878612391),u=g(u,s,c,i,l[e+5],21,4237533241),i=g(i,u,s,c,l[e+12],6,1700485571),c=g(c,i,u,s,l[e+3],10,2399980690),s=g(s,c,i,u,l[e+10],15,4293915773),u=g(u,s,c,i,l[e+1],21,2240044497),i=g(i,u,s,c,l[e+8],6,1873313359),c=g(c,i,u,s,l[e+15],10,4264355552),s=g(s,c,i,u,l[e+6],15,2734768916),u=g(u,s,c,i,l[e+13],21,1309151649),i=g(i,u,s,c,l[e+4],6,4149444226),c=g(c,i,u,s,l[e+11],10,3174756917),s=g(s,c,i,u,l[e+2],15,718787259),u=g(u,s,c,i,l[e+9],21,3951481745),i=d(i,t),u=d(u,n),s=d(s,o),c=d(c,a);return(_(i)+_(u)+_(s)+_(c)).toLowerCase()}});e(o);o.md5;var a=n(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.login_setup=function(){function e(){var r=!0;return t.trim(String(t("#account").val()))?t("#err_msg_account").html(""):(t("#err_msg_account").html("账号不正确"),r=!1),t("#password").val()?t("#err_msg_password").html(""):(t("#err_msg_password").html("密码不正确"),r=!1),r}t("input").on("input",function(){e()}),t("#btn-register").on("click",function(){window.location.href="/register"}),t("#btn-login").on("click",function(){e()&&t.ajax({url:"/api/login",type:"post",data:{account:t("#account").val(),md5password:o.md5(String(t("#password").val())),remember:t("#remember-checkbox").prop("checked")?1:0},dataType:"json",success:function(r){r.err?(t("#account").val(""),t("#password").val(""),e()):window.location.href="/"}})})}});e(a);a.login_setup;var i=n(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.register_setup=function(){function e(){var r=!0;t.trim(String(t("#account").val()))?t("#err_msg_account").html(""):(t("#err_msg_account").html("账号不正确"),r=!1),t.trim(String(t("#email").val()))?t("#err_msg_email").html(""):(t("#err_msg_email").html("邮箱不正确"),r=!1);var e=t("#password").val();return e?t("#err_msg_password").html(""):(t("#err_msg_password").html("密码不正确"),r=!1),t("#password2").val()!==e?(t("#err_msg_password2").html("密码不匹配"),r=!1):t("#err_msg_password2").html(""),r}t("input").on("input",function(){e()}),t("#btn-register").on("click",function(){e()&&t.ajax({url:"/api/register",type:"post",data:{account:t("#account").val(),email:t("#email").val(),md5password:o.md5(String(t("#password").val()))},dataType:"json",success:function(r){r.err?(t("#account").val(""),t("#email").val(""),t("#password").val(""),t("#password2").val(""),e()):window.location.href="/"}})})}});e(i);i.register_setup;var u=n(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(r){switch(r){case"login":a.login_setup();break;case"register":i.register_setup()}};e.Login=t}),s=e(u),c=u.Login;r.default=s,r.Login=c,Object.defineProperty(r,"__esModule",{value:!0})});
